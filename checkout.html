<!DOCTYPE html>
<html>
<head>
	<title>Market Supply</title>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<link rel="stylesheet" type="text/css" href="css/style.css"/>
	<link rel="stylesheet" type="text/css" href="css/swiper.css"/>
	<link rel="stylesheet" type="text/css" href="css/owl.carousel.css">
	<link rel="stylesheet" type="text/css" href="css/owl.theme.default.css">
	<link rel="stylesheet" type="text/css" href="css/animate.min.css"/>
	<link rel="stylesheet" type="text/css" href="css/bpg-nino-mtavruli.css">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
  <!-- START CART TABLE -->
<div id="shopTable">
  <div class="container">
    <div class="row">

  <h2>თქვენი კალათა</h2>
<div class="table-info py-4">
  <div class="close-btn">
    <i class="fa fa-times"></i>
  </div>

  <table class="table table-striped p-0 m-0 py-3">

  </table>

  </div>

  <div class="total d-flex  justify-content-around align-items-center">
    <h6>სულ ღირებულება: <span id="shopTotal">0</span></h6>
    <a href="#">შეძენა</a>
  </div>
</div>
</div>
</div>
<!-- END CART TABLE -->
<!-- START HEADER -->
<header>
  <div class="container-fluid p-0 m-0">
    <div class="container">
     <div class="row justify-content-center align-items-center py-3">
      <div class="col-lg-5 col-md-12 col-sm-12 d-flex align-items-center justify-content-between">
        <div class="header_image">
          <a href="index.html">
          <img src="images/logo.png">
          </a>
        </div>
          <i class="fa fa-shopping-cart" id="shopBtn"><span id="shop">0</span></i>
      </div>
      <div class="col-lg-5 col-md-12 col-sm-12">
        <div class="form-group">
          <input type="text" name="" placeholder="ძებნა" id="searchInput">
          <i class="fa fa-search"></i>
          <div class="searched-list">
            <ul>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-2">
        
 <section id="mobileNav">
<div class="container">
  <div class="row">
    <div class="hum">
      <span class="line line-1"></span>
      <span class="line line-2"></span>
      <span class="line line-3"></span>
    </div>
  </div>
</div>
</section>
      </div>
    </div>
  </div>
  <div class="header_nav">
    <div class="container">
      <div class="row">
        <div class="col-lg-4 col-md-12 col-sm-12">
        </div>
        <div class="col-xl-8 col-lg-12 col-md-12 col-sm-12">
        <ul class="d-flex justify-content-center align-items-center m-0 p-0 ">
          <li><a href="index.html">მთავარი</a></li>
          <li><a href="#">ჩვენს შესახებ</a></li>
          <li><a href="#">როგორ შევიძინო</a></li>
          <li><a href="#">მიტანის სერვისი</a></li>
          <li><a href="#">კონტაქტი</a></li>
        </ul>
      </div>
      </div>
    </div>
   </div>
  </div>  
</header>
<!-- END HEADER -->



<!-- START SECTION -->
<section id="profile">
  <div class="container">
    <div class="row">
      <div class="col-lg-4 col-md-12 col-sm-12">
        <div class="inner-profile">
          <h6>დეტალური ინფორმაცია</h6>
         <form>
          <div class="pr-row d-flex justify-content-between align-items-center">
          <div class="col-6 pl-0 m-0">
            <label>სახელი<span>*</span></label>
            <input type="text" name="" class="form-control" id="profName">
          </div>
           <div class="col-6 pr-0 m-0">
            <label>გვარი<span>*</span></label>
            <input type="text" name="" class="form-control" id="profLastName">
          </div>
          </div>

            <div class="pr-row">
            <label>მისამართი <span>*</span></label>
            <input type="text" name="" placeholder="ქუჩა, კორპუსი, ბინა" class="form-control" id="profAddress">
          </div>

          <div class="pr-row">
            <label>ქალაქი <span>*</span></label>
            <input type="text" name="" class="form-control" id="profCity">
          </div>

          <div class="pr-row">
            <label>მობილური <span>*</span></label>
            <input type="text" name="" class="form-control" id="profMobile"> 
          </div>
          </form>

        </div>
      </div>

      <div class="col-lg-4 col-md-12 col-sm-12">
        <div class="inner-cart mt-2 mt-md-0">
           <h6>შეკვეთის დეტალები</h6>

            <div class="cart-row">
              <table border="1">
                <thead>
                  <tr>
                    <th>პროდუქტი</th>
                     <th>ჯამი</th>
                  </tr>
                </thead>
                <tbody id="checkoutParent">
                  <tr>
                    <td id="productNames">ნიმუში<span id="productCount"> რაოდენობა</span></td>
                    <td id="productPrice">ღირებულება</td>
                    </tr>

                </tbody>
                <tfoot>
                  <tr>
                    <th>მიწოდება</th>
                    <td>
                      <ul>
                        <li>
                          <input type="radio" name="grp1" id="shipwithout" value="0" checked="">
                          <label for="shipwithout">მიწოდების გარეშე</label> 
                        </li>
                        <li>
                          <input type="radio" name="grp1" id="shipwith" value="10">
                          <label for="shipwith">მიწოდებით: ₾10.00</label>
                        </li>
                      </ul>
                    </td>
                  </tr>
                  <tr>
                    <th>მთლიანი ჯამი</th>
                    <td id="fullTotal">0</td>
                  </tr>
                </tfoot>
              </table>
            </div>
        </div>
      </div>

       <div class="col-lg-4 col-md-12 col-sm-12">
        <div class="inner-pay mt-4 mt-md-0">
          <h6>გადახდის მეთოდი</h6>
          <ul>
            <li>ნაღდი ანგარიშსწორება</li>
            <li>გადახდა ნაღდი ფულით შეკვეთის მიღებისას</li>
            <li>
              <div class="pay">
                <h6>საერთო ღირებულება<span id="lastPrice">0</span></h6>
                <button type="submit" onclick="payBtn()">შეკვეთა</button>
              </div>
            </li>
          </ul>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- END SECTION -->






<footer>
  <div class="container">
    <div class="row">
      <div class="col-12">
        <h5>საკონტაქტო ინფორმაცია</h5>
        <h6>ტელეფონი</h6>
        <h6>5** ** ** **</h6>
        <h6>ელ–ფოსტა: info@example.ge</h6>
        <h6>სამუშაო დღეები: ორშ - კვ / 09:00 - 20:00</h6>
        <span>ყველა უფლება დაცულია</span>
      </div>
    </div>
  </div>
</footer>

<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script src="js/jquery-3.5.1.min.js"></script>
<script src="js/app.js" async></script>
<script src="js/wow.min.js"></script>
<script src="js/owl.carousel.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>



<script type="text/javascript" async>
  






// CHECKOUT ADD TABLE

const  checkoutParents = document.querySelector('#checkoutParent');
let tableCart = '';

let fullTotalCount = 0;



 JSON.parse(localStorage.getItem('itms')).map(data =>{


   tableCart += `
   <tr class="pro-row">
                    <td id="productNames">${data.name}<span id="productCount" class="pl-3">X${data.no}</span></td>
                    <td id="productPrice">${data.price}</td>
                    </tr>


   `
});
checkoutParents.innerHTML = tableCart;



const  checkoutParentChild = checkoutParents.querySelectorAll('.pro-row');

const  fullTotal = document.querySelector('#fullTotal');

const  lastPrice = document.querySelector('#lastPrice');

for( let x = 0; x < checkoutParentChild.length; x++){

 let price =  checkoutParentChild[x].querySelector('#productPrice').innerHTML;
  let priceTot =  checkoutParentChild[x].querySelector('#productCount').innerHTML;
   
   proTotal = priceTot.replace("X", "");

  fullTotalCount = fullTotalCount + (parseFloat(price) * proTotal);

 fullTotal.innerHTML = fullTotalCount + " ₾";
 lastPrice.innerHTML = fullTotalCount + " ₾";

}


// RADIO BTN
let radioOne  = document.querySelector('#shipwithout');
let radioTwo  = document.querySelector('#shipwith');


 window.addEventListener('change', ()=>{

 if( radioOne.checked == true ){


  let fasiOne = parseFloat(fullTotal.innerHTML)

  fullTotal.innerHTML = fasiOne - 10 + " ₾";

  lastPrice.innerHTML = fullTotal.innerHTML.replace("₾", "") + " ₾";


 } else if( radioTwo.checked == true ){
  
  let fasi = parseFloat(fullTotal.innerHTML)
  let valueNum = parseFloat(radioTwo.value)
  let lastPriceSec = parseFloat(lastPrice.innerHTML);
  
  fullTotal.innerHTML = fasi + valueNum + " ₾";

  lastPrice.innerHTML = fullTotal.innerHTML.replace("₾", "") + " ₾";




 } else {
  alert('აირჩიეთ მიწოდების სერვისი')
}

});



function payBtn(){

  const profName = document.querySelector('#profName');
  const profLastName = document.querySelector('#profLastName');
  const profAddress = document.querySelector('#profAddress');
  const profCity = document.querySelector('#profCity');
  const profMobile = document.querySelector('#profMobile');

     if( profName.value == "" || profLastName.value == "" || profAddress.value == "" || profCity.value == "" || profMobile.value =="" ){

         profName.style.border = "1px solid red";
          profLastName.style.border = "1px solid red";
           profAddress.style.border = "1px solid red";
            profCity.style.border = "1px solid red";
             profMobile.style.border = "1px solid red";

     } else {

      document.querySelector('form').reset();
  swal("თქვენი შეკვეთა გაიგზავნა, თუ უახლოესი ერთი საათის განმავლობაში არ მიიღეთ შეკვეთის დასტური, გთხოვთ დაგვიკავშირდეთ 5** ** ** ** ", "", "success" );

    setTimeout( function(){
      window.location.reload();
    },4000);
     }

     let itms = [];

     localStorage.setItem("itms", JSON.stringify(itms));

  

}

</script>

  <script>
              new WOW().init();
   </script>
</body>
</html>